<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DocX Template Filler</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div class="app">

  <!-- HEADER -->
  <header class="header">
    <div class="header-inner">
      <span class="header-icon">ğŸ“„</span>
      <h1>DocX Template Filler</h1>
      <p>Upload a <code>.docx</code> template with <code>{{PLACEHOLDER}}</code> tags,<br>
         fill in the values, and download your completed document.</p>
    </div>
  </header>

  <main class="main">

    <!-- STEP 1: UPLOAD -->
    <section class="card" id="step-upload">
      <div class="card-header">
        <span class="badge">1</span>
        <h2>Upload Template</h2>
      </div>

      <div class="dropzone" id="dropzone" tabindex="0" role="button"
           aria-label="Click or drag a .docx file here">
        <input type="file" id="file-input" accept=".docx" hidden />
        <div class="dropzone-content" id="dropzone-content">
          <span class="dz-icon">â¬†</span>
          <p class="dz-primary">Drop your <strong>.docx</strong> template here</p>
          <p class="dz-secondary">or click to browse</p>
        </div>
      </div>

      <div class="file-chip hidden" id="file-chip">
        <span>ğŸ“</span>
        <span id="file-name-display"></span>
        <button class="icon-btn" id="btn-clear" title="Remove file">âœ•</button>
      </div>

      <div class="card-footer">
        <a class="link-small" href="/example-template.docx" download>
          â†“ Download example template
        </a>
        <button class="btn btn-primary" id="btn-parse" disabled>
          Detect Placeholders â†’
        </button>
      </div>
    </section>

    <!-- HISTORY -->
    <section class="card hidden" id="history-section">
      <div class="card-header">
        <span class="history-icon">ğŸ•˜</span>
        <h2>Recent Templates</h2>
      </div>
      <div id="history-list" class="history-list"></div>
    </section>

    <!-- STEP 2: FILL FIELDS -->
    <section class="card hidden" id="step-fields">
      <div class="card-header">
        <span class="badge">2</span>
        <h2>Fill in Values</h2>
      </div>
      <div id="fields-container" class="fields-grid"></div>
      <div class="card-footer">
        <button class="btn btn-ghost" id="btn-back">â† Back</button>
        <div class="footer-right">
          <span class="hint" id="textarea-hint" hidden>Ctrl+Enter to generate</span>
          <button class="btn btn-primary" id="btn-generate">
            Generate Document â†“
          </button>
        </div>
      </div>
    </section>

    <!-- STEP 3: DOWNLOAD -->
    <section class="card hidden" id="step-done">
      <div class="card-header">
        <span class="badge badge-ok">âœ“</span>
        <h2>Your Document is Ready!</h2>
      </div>
      <p class="done-msg">All placeholders replaced. Download your filled document below.</p>
      <div class="card-footer">
        <button class="btn btn-ghost" id="btn-restart">â† Start Over</button>
        <a class="btn btn-success" id="btn-download" download>â¬‡ Download Document</a>
      </div>
    </section>

    <!-- ERROR BANNER -->
    <div class="error-banner hidden" id="error-banner" role="alert">
      <span>âš ï¸</span>
      <span id="error-text"></span>
      <button class="icon-btn" id="btn-error-close">âœ•</button>
    </div>

    <!-- LOADING OVERLAY -->
    <div class="loading-overlay hidden" id="loading-overlay">
      <div class="spinner"></div>
      <p id="loading-text">Processingâ€¦</p>
    </div>

  </main>
</div>

<script src="app.js"></script>
</body>
</html>
